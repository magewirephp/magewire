<?xml version="1.0"?>
<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd"
>
    <body>
        <referenceContainer name="page.bottom.container">
            <!-- Floating Magewire element(s) which can be everywhere -->
            <block name="magewire.loader"
                   ifconfig="dev/magewire/loader/enable"
                   template="Magewirephp_Magewire::html/loader.phtml">
                <block name="magewire.loader.notifications"
                       ifconfig="dev/magewire/loader/enable_notifications"
                       template="Magewirephp_Magewire::html/loader/notifications.phtml"/>
            </block>
        </referenceContainer>

        <referenceContainer name="before.body.end">
            <block name="magewire.livewire"
                   before="script-alpine-js"
                   template="Magewirephp_Magewire::page/js/magewire-livewire.phtml"/>
            <block name="magewire.initialize"
                   after="magewire.livewire"
                   template="Magewirephp_Magewire::page/js/magewire-initialize.phtml"
            >
                <container name="magewire.plugin.scripts" as="magewire.plugins">
                    <block name="magewire.plugin.loader"
                           ifconfig="dev/magewire/loader/enable"
                           template="Magewirephp_Magewire::page/js/magewire/plugin/loader.phtml"/>
                </container>
            </block>
        </referenceContainer>

        <!-- Global Magewire pager placeholder -->
        <block name="magewire.pagination.pager"/>
    </body>
</page>
